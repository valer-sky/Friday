<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SPA</title>
    <link rel="stylesheet" type="text/css" href="./css/style.css">
    <link rel="stylesheet" type="text/css" href="./css/nav.css">
</head>
<body>
    
    <div id="page"></div>
    <div class="wrapper"></div>

    
    <!-- <div class="field" id="field"></div> -->

    <script>
        let gameField = document.createElement('div');
        gameField.id = 'field';
        let cardViewInHTML = '<div class="card card_closed" data-status="closed"></div>';
        let cardsContent  = [1,2,3,4,5,6,7,8,9,10,11,12];
        
        cardsContent = cardsContent.map((card) => {
     let img = new Image();
     img.src = `img/${card}.png`;
      return img;
    });
        window.onhashchange = renderNewState;
        function renderNewState() {
            const hash = window.location.hash;
            let state = decodeURIComponent(hash.substr(1));

            if (state === '') {
                state = {page: 'first'};
            } else {
                state = JSON.parse(state);
            }

            let page = '';
            // document.querySelector('.wrapper').innerHTML = '';

            switch(state.page) {
                case 'first':
                createGamePage();
                    
        
                    
//                     
//         <div class="info__line">
//             <span>Time: &emsp;</span>
//             <span id="timer" data-started>00:00:00</span>
//         </div>
//       <div class="info__line">
//         <span>Steps:</span>
//         <span id="steps">0</span>
//       </div>
//       <div class="result"></div>
//     </div>
// <div class="field" id="field"></div>
// <div class="restart">
//   <button id="restart">Restart</button>
// </div>`;
                    break;
                case 'second':
                    page += `<ol>
                                                    <li>Ищи совпадающие по цвету элементы по горизонтали, вертикали или диагонали (3 и более)</li><br>
                                                    <li>Элементами можно управлять при помощи мыши на ПК и пальцем на тачскрине</li><br>
                                                    <li>Нажми на элемент и проведи в сторону второго элемента, с которым необходимо поменяться местами</li><br>
                                                    <li>Одинаковые группы исчезнут и поле перестоится, а ты получишь очки</li><br>
                                                    <li>Набери максимальное количество очков за 30 ходов</li>
                                                </ol>`;
                    break;
                case 'third':
                    page += 'Таблица рекордов';
                    break;
            }

            document.getElementById('page').innerHTML = page;
        }

        function switchToState(state) {
            location.hash = encodeURIComponent(JSON.stringify(state));
        }
        function switchToFirst() {
            switchToState({page: 'first'});
        }
        function switchToSecond() {
            switchToState({page: 'second'});
        }
        function switchToThird() {
            switchToState({page: 'third'});
        }

        renderNewState();

        /////////
        
  let wrapper = document.querySelector('.wrapper');
  wrapper.style.cssText = `height: 100vh;
	background: url(img/background.jpg);
	background-position: center center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-size: 100vw 100vh;
    overflow: hidden;`;
    
function createGamePage() {
    let info = document.createElement('div');
    info.style.cssText = `display: inline-block;
    color: rgb(255, 255, 255);
    font-size: 22px;
    /* font-family: 'Rubik Bubbles', cursive; */
    transform: translate(180px, 80px);`;
    let info__line = document.createElement('div');
    info__line.innerHTML = `<span>Time: &emsp;</span>
            <span id="timer" data-started>00:00:00</span>`;
    info__line.style.cssText = `display: flex;
    justify-content: space-between;`;
    let info__steps = document.createElement('div');
    info__steps.innerHTML = `<span>Steps:</span>
        <span id="steps">0</span>`;
        
    info__steps.style.cssText = `display: flex;
    justify-content: space-between;`;
    info.appendChild(info__line);
    info.appendChild(info__steps);

    let result = document.createElement('div');
    result.classList.add('result');
    info.appendChild(result);


    
    wrapper.appendChild(info);

    let gameField = document.createElement('div');

    gameField.id = 'field';
    let cardsContent  = [1,2,3,4,5,6,7,8,9,10,11,12];
    let cardViewInHTML = '<div class="card card_closed" data-status="closed"></div>';
    // cardsContent = cardsContent.map((card) => {
    //  let img = new Image();
    //  img.src = `img/${card}.png`;
    //   return img;
    // });
    // gameField.appendChild(cardViewInHTML);
    gameField.style.cssText = `display: flex;
    justify-content: center;s
    align-items: center;
    flex-flow: row wrap;
    width: 600px;
    margin: auto;
    margin-top: 50px;`;
  
 
  
  wrapper.appendChild(gameField);
//   wrapper.appendChild(createScore())
}
    </script>
    <script src="index.js"></script>

    <input type="button" value="Главная" onclick="switchToFirst()">
    <input type="button" value="Правила" onclick="switchToSecond()">
    <input type="button" value="Таблица рекордов" onclick="switchToThird()">
    <!-- <script src="index.js"></script> -->
</body>
</html>